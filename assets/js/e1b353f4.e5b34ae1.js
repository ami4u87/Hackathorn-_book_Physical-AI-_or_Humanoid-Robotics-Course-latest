"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics=globalThis.webpackChunkphysical_ai_humanoid_robotics||[]).push([[722],{7085:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>l});var i=a(4848),o=a(8453);const t={},r="Launch Files",s={id:"module-1-ros2/launch",title:"Launch Files",description:"Launch files in ROS 2 provide a way to start multiple nodes with specific configurations simultaneously. They allow you to define complex robotic systems with a single command, making it easy to reproduce experiments, switch between different configurations, and manage complex multi-node applications.",source:"@site/docs/module-1-ros2/6-launch.md",sourceDirName:"module-1-ros2",slug:"/module-1-ros2/launch",permalink:"/Hackathorn-_book_Physical-AI-_or_Humanoid-Robotics-Course-latest/docs/module-1-ros2/launch",draft:!1,unlisted:!1,editUrl:"https://github.com/ami4u87/Hackathorn-_book_Physical-AI-_or_Humanoid-Robotics-Course-latest/tree/master/docs/module-1-ros2/6-launch.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{},sidebar:"docsSidebar",previous:{title:"Parameters",permalink:"/Hackathorn-_book_Physical-AI-_or_Humanoid-Robotics-Course-latest/docs/module-1-ros2/parameters"},next:{title:"TF2 (Transform Library)",permalink:"/Hackathorn-_book_Physical-AI-_or_Humanoid-Robotics-Course-latest/docs/module-1-ros2/tf2"}},c={},l=[{value:"Understanding Launch Files",id:"understanding-launch-files",level:2},{value:"Creating Launch Files",id:"creating-launch-files",level:2},{value:"Python Launch Files",id:"python-launch-files",level:3},{value:"Launch File with Conditional Logic",id:"launch-file-with-conditional-logic",level:3},{value:"Launch File Concepts",id:"launch-file-concepts",level:2},{value:"Node Configuration Options",id:"node-configuration-options",level:3},{value:"Remappings",id:"remappings",level:3},{value:"Conditional Launch",id:"conditional-launch",level:3},{value:"Running Launch Files",id:"running-launch-files",level:2},{value:"Advanced Launch Concepts",id:"advanced-launch-concepts",level:2},{value:"Including Other Launch Files",id:"including-other-launch-files",level:3},{value:"Event Handlers",id:"event-handlers",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Launch System Tools",id:"launch-system-tools",level:2},{value:"Summary",id:"summary",level:2}];function u(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"launch-files",children:"Launch Files"}),"\n",(0,i.jsx)(e.p,{children:"Launch files in ROS 2 provide a way to start multiple nodes with specific configurations simultaneously. They allow you to define complex robotic systems with a single command, making it easy to reproduce experiments, switch between different configurations, and manage complex multi-node applications."}),"\n",(0,i.jsx)(e.h2,{id:"understanding-launch-files",children:"Understanding Launch Files"}),"\n",(0,i.jsx)(e.p,{children:"Launch files replace the ROS 1 launch system with a more flexible, Python-based approach. They can:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Start multiple nodes with specific parameters"}),"\n",(0,i.jsx)(e.li,{children:"Set up remappings between topics"}),"\n",(0,i.jsx)(e.li,{children:"Configure node-specific settings"}),"\n",(0,i.jsx)(e.li,{children:"Handle node lifecycle management"}),"\n",(0,i.jsx)(e.li,{children:"Include other launch files for modularity"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"creating-launch-files",children:"Creating Launch Files"}),"\n",(0,i.jsx)(e.h3,{id:"python-launch-files",children:"Python Launch Files"}),"\n",(0,i.jsx)(e.p,{children:"The recommended approach in ROS 2 is to use Python launch files. Let's create an example launch file."}),"\n",(0,i.jsx)(e.p,{children:"First, create a launch directory in your package:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"mkdir -p ~/ros2_ws/src/py_launch/launch\n"})}),"\n",(0,i.jsxs)(e.p,{children:["Create a launch file at ",(0,i.jsx)(e.code,{children:"src/py_launch/launch/example_launch.py"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\nfrom ament_index_python.packages import get_package_share_directory\nimport os\n\n\ndef generate_launch_description():\n    # Get the package share directory\n    pkg_share = get_package_share_directory('py_launch')\n\n    # Example of loading parameters from a file\n    config_file = os.path.join(pkg_share, 'config', 'params.yaml')\n\n    return LaunchDescription([\n        # Launch a simple talker node\n        Node(\n            package='demo_nodes_cpp',\n            executable='talker',\n            name='talker_node',\n            parameters=[\n                # Example of setting parameters directly\n                {'param_name': 'param_value'},\n                # Example of loading from a file\n                # config_file\n            ],\n            remappings=[\n                # Example of remapping topics\n                ('/chatter', '/custom_chatter')\n            ],\n            # Set node execution priority\n            # prefix='nice -n 10',\n            # Additional configurations\n            output='screen',  # Output to screen\n        ),\n\n        # Launch a simple listener node\n        Node(\n            package='demo_nodes_py',\n            executable='listener',\n            name='listener_node',\n            # Set namespace for the node\n            namespace='robot1',\n            parameters=[\n                {'use_sim_time': False}\n            ],\n            output='screen',\n        ),\n\n        # Launch our parameter node\n        Node(\n            package='py_parameters',\n            executable='parameter_node',\n            name='configurable_node',\n            parameters=[\n                {'robot_name': 'turtlebot4'},\n                {'max_velocity': 0.75}\n            ],\n            output='screen',\n        )\n    ])\n"})}),"\n",(0,i.jsx)(e.h3,{id:"launch-file-with-conditional-logic",children:"Launch File with Conditional Logic"}),"\n",(0,i.jsx)(e.p,{children:"You can also create launch files with conditional logic:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument\nfrom launch.substitutions import LaunchConfiguration\nfrom launch_ros.actions import Node\n\n\ndef generate_launch_description():\n    # Declare launch arguments\n    sim_time_arg = DeclareLaunchArgument(\n        'use_sim_time',\n        default_value='false',\n        description='Use simulation time'\n    )\n\n    robot_name_arg = DeclareLaunchArgument(\n        'robot_name',\n        default_value='default_robot',\n        description='Name of the robot'\n    )\n\n    # Get launch configurations\n    use_sim_time = LaunchConfiguration('use_sim_time')\n    robot_name = LaunchConfiguration('robot_name')\n\n    return LaunchDescription([\n        # Add the argument declarations\n        sim_time_arg,\n        robot_name_arg,\n\n        # Launch node with configurations\n        Node(\n            package='py_parameters',\n            executable='parameter_node',\n            name='parameter_node',\n            parameters=[\n                {'use_sim_time': use_sim_time},\n                {'robot_name': robot_name}\n            ],\n            output='screen',\n        )\n    ])\n"})}),"\n",(0,i.jsx)(e.h2,{id:"launch-file-concepts",children:"Launch File Concepts"}),"\n",(0,i.jsx)(e.h3,{id:"node-configuration-options",children:"Node Configuration Options"}),"\n",(0,i.jsx)(e.p,{children:"When defining nodes in launch files, you have several configuration options:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"Node(\n    package='package_name',      # Package containing the executable\n    executable='executable_name', # Name of the executable\n    name='node_name',            # Name to give the node (overrides default)\n    namespace='namespace',       # Namespace for the node\n    parameters=[...],            # List of parameters\n    remappings=[...],            # List of topic/service remappings\n    arguments=[...],             # Command line arguments\n    output='both',               # Output destination ('screen', 'log', 'both')\n    condition=...                # Conditional launch (if/unless)\n)\n"})}),"\n",(0,i.jsx)(e.h3,{id:"remappings",children:"Remappings"}),"\n",(0,i.jsx)(e.p,{children:"Remappings allow you to redirect topics between nodes:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"remappings=[\n    ('/original_topic', '/new_topic'),\n    ('/tf', '/robot1/tf'),  # Useful for multi-robot systems\n]\n"})}),"\n",(0,i.jsx)(e.h3,{id:"conditional-launch",children:"Conditional Launch"}),"\n",(0,i.jsx)(e.p,{children:"You can conditionally launch nodes based on arguments:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch.conditions import IfCondition, UnlessCondition\nfrom launch.substitutions import LaunchConfiguration\n\n# Example with conditional launch\nNode(\n    package='demo_nodes_cpp',\n    executable='talker',\n    name='conditional_talker',\n    condition=IfCondition(LaunchConfiguration('start_talker'))\n)\n"})}),"\n",(0,i.jsx)(e.h2,{id:"running-launch-files",children:"Running Launch Files"}),"\n",(0,i.jsx)(e.p,{children:"To run a launch file:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Basic launch\nros2 launch py_launch example_launch.py\n\n# With arguments\nros2 launch py_launch example_launch.py use_sim_time:=true robot_name:=jackal\n\n# With specific launch file from package\nros2 launch <package_name> <launch_file.py>\n"})}),"\n",(0,i.jsx)(e.h2,{id:"advanced-launch-concepts",children:"Advanced Launch Concepts"}),"\n",(0,i.jsx)(e.h3,{id:"including-other-launch-files",children:"Including Other Launch Files"}),"\n",(0,i.jsx)(e.p,{children:"You can include other launch files for modularity:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription, LaunchInclude\nfrom launch.actions import IncludeLaunchDescription\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\nfrom ament_index_python.packages import get_package_share_directory\nimport os\n\n\ndef generate_launch_description():\n    # Include another launch file\n    other_launch_file = os.path.join(\n        get_package_share_directory('other_package'),\n        'launch',\n        'other_launch.py'\n    )\n\n    return LaunchDescription([\n        # Include another launch file\n        IncludeLaunchDescription(\n            PythonLaunchDescriptionSource(other_launch_file)\n        ),\n\n        # Your nodes here\n        Node(\n            package='demo_nodes_cpp',\n            executable='talker',\n            name='talker',\n            output='screen',\n        )\n    ])\n"})}),"\n",(0,i.jsx)(e.h3,{id:"event-handlers",children:"Event Handlers"}),"\n",(0,i.jsx)(e.p,{children:"You can define event handlers for node lifecycle events:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch.actions import RegisterEventHandler\nfrom launch.event_handlers import OnProcessExit, OnProcessStart\nfrom launch_ros.actions import Node\n\n\ndef generate_launch_description():\n    talker_node = Node(\n        package='demo_nodes_cpp',\n        executable='talker',\n        name='talker',\n    )\n\n    listener_node = Node(\n        package='demo_nodes_py',\n        executable='listener',\n        name='listener',\n    )\n\n    # Register event handler\n    listener_event_handler = RegisterEventHandler(\n        OnProcessStart(\n            target_action=talker_node,\n            on_start=[\n                # Start listener after talker starts\n                listener_node\n            ]\n        )\n    )\n\n    return LaunchDescription([\n        talker_node,\n        listener_event_handler,\n    ])\n"})}),"\n",(0,i.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Modular launch files"}),": Break complex systems into smaller, reusable launch files."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Use launch arguments"}),": Make your launch files configurable with launch arguments."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Parameter files"}),": Use YAML parameter files for complex configurations."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Namespace organization"}),": Use namespaces to organize multi-robot systems."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Descriptive names"}),": Use clear, descriptive names for nodes and launch files."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Error handling"}),": Use event handlers for robust error handling and recovery."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Documentation"}),": Document your launch files with comments explaining the purpose of each node."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"launch-system-tools",children:"Launch System Tools"}),"\n",(0,i.jsx)(e.p,{children:"ROS 2 provides command-line tools for working with launch systems:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Show launch file description\nros2 launch --show-args <package_name> <launch_file.py>\n\n# Dry run (show what would be launched without actually launching)\n# This is done by examining the launch file directly\n\n# List active launch processes\nps aux | grep -i launch\n"})}),"\n",(0,i.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(e.p,{children:"Launch files provide a powerful way to configure and start complex robotic systems with a single command. They are essential for reproducible experiments and make it easy to switch between different configurations. Understanding how to create and use launch files effectively is crucial for working with real-world ROS 2 applications."}),"\n",(0,i.jsx)(e.p,{children:"In the next section, we'll explore TF2 (Transform Library), which provides a way to keep track of coordinate frames in a robotic system over time."})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(u,{...n})}):u(n)}},8453:(n,e,a)=>{a.d(e,{R:()=>r,x:()=>s});var i=a(6540);const o={},t=i.createContext(o);function r(n){const e=i.useContext(t);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:r(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);