"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics=globalThis.webpackChunkphysical_ai_humanoid_robotics||[]).push([[975],{1101:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>r});var t=s(4848),i=s(8453);const a={},l="System Integration",o={id:"module-5-capstone/integration",title:"System Integration",description:"The capstone project integrates all previous modules into a complete autonomous humanoid robot system.",source:"@site/docs/module-5-capstone/1-integration.md",sourceDirName:"module-5-capstone",slug:"/module-5-capstone/integration",permalink:"/Hackathorn-_book_Physical-AI-_or_Humanoid-Robotics-Course-latest/docs/module-5-capstone/integration",draft:!1,unlisted:!1,editUrl:"https://github.com/ami4u87/Hackathorn-_book_Physical-AI-_or_Humanoid-Robotics-Course-latest/tree/master/docs/module-5-capstone/1-integration.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"docsSidebar",previous:{title:"Module 5: Capstone Project",permalink:"/Hackathorn-_book_Physical-AI-_or_Humanoid-Robotics-Course-latest/docs/module-5-capstone/"},next:{title:"Voice Command Interface",permalink:"/Hackathorn-_book_Physical-AI-_or_Humanoid-Robotics-Course-latest/docs/module-5-capstone/voice-interface"}},c={},r=[{value:"System Architecture",id:"system-architecture",level:2},{value:"Integration Checklist",id:"integration-checklist",level:2},{value:"Module 1: ROS 2 Foundation",id:"module-1-ros-2-foundation",level:3},{value:"Module 2: Simulation",id:"module-2-simulation",level:3},{value:"Module 3: Perception",id:"module-3-perception",level:3},{value:"Module 4: VLA",id:"module-4-vla",level:3},{value:"Module 5: Voice Interface",id:"module-5-voice-interface",level:3},{value:"Implementation Plan",id:"implementation-plan",level:2},{value:"Phase 1: Individual Components (Weeks 1-2)",id:"phase-1-individual-components-weeks-1-2",level:3},{value:"Phase 2: Pairwise Integration (Week 3)",id:"phase-2-pairwise-integration-week-3",level:3},{value:"Phase 3: Full System Integration (Week 4)",id:"phase-3-full-system-integration-week-4",level:3},{value:"Phase 4: Testing &amp; Refinement (Week 5)",id:"phase-4-testing--refinement-week-5",level:3},{value:"Integration Code",id:"integration-code",level:2},{value:"Master Launch File",id:"master-launch-file",level:3},{value:"Task Manager (State Machine)",id:"task-manager-state-machine",level:3},{value:"Communication Diagram",id:"communication-diagram",level:2},{value:"Debugging Tips",id:"debugging-tips",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"system-integration",children:"System Integration"}),"\n",(0,t.jsx)(n.p,{children:"The capstone project integrates all previous modules into a complete autonomous humanoid robot system."}),"\n",(0,t.jsx)(n.h2,{id:"system-architecture",children:"System Architecture"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Voice Input \u2192 Speech-to-Text \u2192 VLA (GPT-4V) \u2192 Action Planning \u2192 Motion Planning \u2192 Robot Control\n                                      \u2191                                              \u2193\n                Camera Input \u2190  Perception (YOLO + Depth) \u2190 State Estimation \u2190 Feedback\n"})}),"\n",(0,t.jsx)(n.h2,{id:"integration-checklist",children:"Integration Checklist"}),"\n",(0,t.jsx)(n.h3,{id:"module-1-ros-2-foundation",children:"Module 1: ROS 2 Foundation"}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","All nodes communicate via topics/services"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","TF tree properly configured"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Launch files for each subsystem"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Parameters externalized"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"module-2-simulation",children:"Module 2: Simulation"}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Robot model in Gazebo/Isaac Sim"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Sensors configured (camera, depth, IMU)"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Physics validated"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Environment loaded"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"module-3-perception",children:"Module 3: Perception"}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Object detection running"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Pose estimation publishing to TF"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","RViz2 visualization working"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Sensor fusion implemented"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"module-4-vla",children:"Module 4: VLA"}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","GPT-4V integration active"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Action generation working"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Validation pipeline in place"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Ambiguity handling implemented"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"module-5-voice-interface",children:"Module 5: Voice Interface"}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Speech-to-text configured"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Text-to-speech for feedback"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Voice commands triggering pipeline"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"implementation-plan",children:"Implementation Plan"}),"\n",(0,t.jsx)(n.h3,{id:"phase-1-individual-components-weeks-1-2",children:"Phase 1: Individual Components (Weeks 1-2)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Tasks"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Verify each module works independently"}),"\n",(0,t.jsx)(n.li,{children:"Create integration tests for each"}),"\n",(0,t.jsx)(n.li,{children:"Document interfaces (topics, services, messages)"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Deliverables"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Module test reports"}),"\n",(0,t.jsx)(n.li,{children:"Interface documentation"}),"\n",(0,t.jsx)(n.li,{children:"Individual launch files"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"phase-2-pairwise-integration-week-3",children:"Phase 2: Pairwise Integration (Week 3)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Integrations"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Perception + VLA"}),": Camera feed \u2192 Object detection \u2192 Action generation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"VLA + Control"}),": Generated actions \u2192 Motion planning \u2192 Execution"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Voice + VLA"}),": Speech input \u2192 Command parsing \u2192 Action generation"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Validation"}),": Each pair works together without the full system."]}),"\n",(0,t.jsx)(n.h3,{id:"phase-3-full-system-integration-week-4",children:"Phase 3: Full System Integration (Week 4)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Pipeline"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Voice Command \u2192 VLA \u2192 Validated Actions \u2192 Execution \u2192 Perception Feedback \u2192 Completion\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Tasks"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Connect all modules"}),"\n",(0,t.jsx)(n.li,{children:"Add state machine for task flow"}),"\n",(0,t.jsx)(n.li,{children:"Implement error handling"}),"\n",(0,t.jsx)(n.li,{children:"Create unified launch file"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"phase-4-testing--refinement-week-5",children:"Phase 4: Testing & Refinement (Week 5)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Tests"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Simple tasks (pick and place)"}),"\n",(0,t.jsx)(n.li,{children:"Multi-step tasks (clean table)"}),"\n",(0,t.jsx)(n.li,{children:"Error recovery (grasp failure)"}),"\n",(0,t.jsx)(n.li,{children:"Edge cases (ambiguous commands)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"integration-code",children:"Integration Code"}),"\n",(0,t.jsx)(n.h3,{id:"master-launch-file",children:"Master Launch File"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\nfrom launch.actions import IncludeLaunchDescription\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\nimport os\n\ndef generate_launch_description():\n    return LaunchDescription([\n        # Simulation\n        IncludeLaunchDescription(\n            PythonLaunchDescriptionSource([\n                os.path.join(get_package_share_directory('simulation_pkg'),\n                            'launch', 'gazebo.launch.py')\n            ])\n        ),\n\n        # Perception\n        Node(\n            package='perception_pkg',\n            executable='object_detector',\n            name='object_detector'\n        ),\n        Node(\n            package='perception_pkg',\n            executable='pose_estimator',\n            name='pose_estimator'\n        ),\n\n        # VLA\n        Node(\n            package='vla_pkg',\n            executable='vla_node',\n            name='vla_node'\n        ),\n        Node(\n            package='vla_pkg',\n            executable='action_validator',\n            name='action_validator'\n        ),\n\n        # Voice Interface\n        Node(\n            package='voice_pkg',\n            executable='speech_to_text',\n            name='speech_to_text'\n        ),\n\n        # Control\n        Node(\n            package='control_pkg',\n            executable='motion_planner',\n            name='motion_planner'\n        ),\n        Node(\n            package='control_pkg',\n            executable='robot_controller',\n            name='robot_controller'\n        ),\n\n        # State Machine\n        Node(\n            package='capstone_pkg',\n            executable='task_manager',\n            name='task_manager'\n        ),\n\n        # Visualization\n        Node(\n            package='rviz2',\n            executable='rviz2',\n            name='rviz2',\n            arguments=['-d', os.path.join(\n                get_package_share_directory('capstone_pkg'),\n                'config', 'capstone.rviz'\n            )]\n        ),\n    ])\n"})}),"\n",(0,t.jsx)(n.h3,{id:"task-manager-state-machine",children:"Task Manager (State Machine)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from enum import Enum\nfrom rclpy.node import Node\n\nclass TaskState(Enum):\n    IDLE = 0\n    LISTENING = 1\n    PERCEIVING = 2\n    PLANNING = 3\n    VALIDATING = 4\n    EXECUTING = 5\n    COMPLETED = 6\n    FAILED = 7\n\nclass TaskManager(Node):\n    def __init__(self):\n        super().__init__(\'task_manager\')\n\n        self.state = TaskState.IDLE\n\n        # Subscribers\n        self.voice_sub = self.create_subscription(\n            String, \'/voice_command\', self.voice_callback, 10\n        )\n        self.perception_sub = self.create_subscription(\n            Detection2DArray, \'/detections\', self.perception_callback, 10\n        )\n        self.action_sub = self.create_subscription(\n            String, \'/validated_actions\', self.action_callback, 10\n        )\n        self.execution_sub = self.create_subscription(\n            String, \'/execution_status\', self.execution_callback, 10\n        )\n\n        # Publishers\n        self.command_pub = self.create_publisher(String, \'/task_command\', 10)\n        self.status_pub = self.create_publisher(String, \'/task_status\', 10)\n\n        # Timer\n        self.timer = self.create_timer(0.1, self.update)\n\n        # State variables\n        self.current_command = None\n        self.current_actions = None\n        self.detections = None\n\n    def update(self):\n        """State machine update"""\n\n        self.publish_status()\n\n        if self.state == TaskState.IDLE:\n            # Waiting for command\n            pass\n\n        elif self.state == TaskState.LISTENING:\n            # Waiting for complete voice command\n            if self.current_command:\n                self.state = TaskState.PERCEIVING\n\n        elif self.state == TaskState.PERCEIVING:\n            # Waiting for perception\n            if self.detections:\n                self.state = TaskState.PLANNING\n\n        elif self.state == TaskState.PLANNING:\n            # Trigger VLA\n            self.trigger_action_generation()\n            self.state = TaskState.VALIDATING\n\n        elif self.state == TaskState.VALIDATING:\n            # Waiting for validated actions\n            if self.current_actions:\n                self.state = TaskState.EXECUTING\n\n        elif self.state == TaskState.EXECUTING:\n            # Actions being executed\n            pass\n\n        elif self.state == TaskState.COMPLETED:\n            self.get_logger().info("Task completed successfully!")\n            self.reset()\n\n        elif self.state == TaskState.FAILED:\n            self.get_logger().error("Task failed")\n            self.reset()\n\n    def voice_callback(self, msg):\n        if self.state == TaskState.IDLE:\n            self.current_command = msg.data\n            self.state = TaskState.LISTENING\n            self.get_logger().info(f"Received command: {msg.data}")\n\n    def perception_callback(self, msg):\n        self.detections = msg\n\n    def action_callback(self, msg):\n        if self.state == TaskState.VALIDATING:\n            self.current_actions = json.loads(msg.data)\n            self.get_logger().info(f"Received {len(self.current_actions)} actions")\n\n    def execution_callback(self, msg):\n        if msg.data == "completed":\n            self.state = TaskState.COMPLETED\n        elif msg.data == "failed":\n            self.state = TaskState.FAILED\n\n    def trigger_action_generation(self):\n        """Send command to VLA"""\n        cmd_msg = String()\n        cmd_msg.data = self.current_command\n        self.command_pub.publish(cmd_msg)\n\n    def publish_status(self):\n        """Publish current state"""\n        status = String()\n        status.data = self.state.name\n        self.status_pub.publish(status)\n\n    def reset(self):\n        """Reset for next task"""\n        self.state = TaskState.IDLE\n        self.current_command = None\n        self.current_actions = None\n        self.detections = None\n'})}),"\n",(0,t.jsx)(n.h2,{id:"communication-diagram",children:"Communication Diagram"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Voice     \u2502 \u2192 /voice_command\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Task Manager\u2502 \u2192 /task_command\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     VLA     \u2502 \u2192 /robot_actions\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Validator  \u2502 \u2192 /validated_actions\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Planner   \u2502 \u2192 /planned_trajectory\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Controller  \u2502 \u2192 /joint_commands\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2193\n    Robot\n"})}),"\n",(0,t.jsx)(n.h2,{id:"debugging-tips",children:"Debugging Tips"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Launch modules individually first"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Use ROS 2 tools"}),":","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ros2 topic list\nros2 topic echo /topic_name\nros2 node list\nros2 service list\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Check TF tree"}),": ",(0,t.jsx)(n.code,{children:"ros2 run tf2_tools view_frames"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Monitor in RViz2"}),": Visualize everything"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Add logging"}),": Verbose logs in each module"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Record bags"}),": ",(0,t.jsx)(n.code,{children:"ros2 bag record -a"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsx)(n.p,{children:"Complete the voice interface setup and execute your first end-to-end task!"})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>o});var t=s(6540);const i={},a=t.createContext(i);function l(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);