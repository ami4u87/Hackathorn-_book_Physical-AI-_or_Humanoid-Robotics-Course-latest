"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics=globalThis.webpackChunkphysical_ai_humanoid_robotics||[]).push([[736],{8022:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var t=i(4848),o=i(8453);const s={},r="Unity with ROS-TCP-Connector",l={id:"module-2-simulation/unity",title:"Unity with ROS-TCP-Connector",description:"Unity is a powerful game engine that can be used for high-fidelity robot simulation with photorealistic rendering and advanced physics. The ROS-TCP-Connector enables seamless communication between Unity and ROS 2.",source:"@site/docs/module-2-simulation/2-unity.md",sourceDirName:"module-2-simulation",slug:"/module-2-simulation/unity",permalink:"/Hackathorn-_book_Physical-AI-_or_Humanoid-Robotics-Course-latest/docs/module-2-simulation/unity",draft:!1,unlisted:!1,editUrl:"https://github.com/ami4u87/Hackathorn-_book_Physical-AI-_or_Humanoid-Robotics-Course-latest/tree/master/docs/module-2-simulation/2-unity.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"docsSidebar",previous:{title:"Gazebo Harmonic with ROS 2",permalink:"/Hackathorn-_book_Physical-AI-_or_Humanoid-Robotics-Course-latest/docs/module-2-simulation/gazebo"},next:{title:"NVIDIA Isaac Sim",permalink:"/Hackathorn-_book_Physical-AI-_or_Humanoid-Robotics-Course-latest/docs/module-2-simulation/isaac"}},a={},c=[{value:"Why Unity for Robotics?",id:"why-unity-for-robotics",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:2},{value:"Step 1: Install Unity Hub",id:"step-1-install-unity-hub",level:3},{value:"Step 2: Install Unity Editor",id:"step-2-install-unity-editor",level:3},{value:"Step 3: Create New Project",id:"step-3-create-new-project",level:3},{value:"Step 4: Install ROS-TCP-Connector",id:"step-4-install-ros-tcp-connector",level:3},{value:"Method 1: Package Manager (Recommended)",id:"method-1-package-manager-recommended",level:4},{value:"Method 2: Manual Installation",id:"method-2-manual-installation",level:4},{value:"Step 5: Install URDF Importer",id:"step-5-install-urdf-importer",level:3},{value:"Setting Up ROS-TCP Endpoint",id:"setting-up-ros-tcp-endpoint",level:2},{value:"On ROS 2 Side",id:"on-ros-2-side",level:3},{value:"On Unity Side",id:"on-unity-side",level:3},{value:"Importing a Humanoid Robot",id:"importing-a-humanoid-robot",level:2},{value:"Method 1: Import from URDF",id:"method-1-import-from-urdf",level:3},{value:"Method 2: Build from Scratch",id:"method-2-build-from-scratch",level:3},{value:"Communicating with ROS 2",id:"communicating-with-ros-2",level:2},{value:"Publishing Messages from Unity to ROS 2",id:"publishing-messages-from-unity-to-ros-2",level:3},{value:"Subscribing to ROS 2 Messages in Unity",id:"subscribing-to-ros-2-messages-in-unity",level:3},{value:"Publishing Camera Images",id:"publishing-camera-images",level:3},{value:"Joint Control",id:"joint-control",level:2},{value:"Articulation Body for Realistic Physics",id:"articulation-body-for-realistic-physics",level:3},{value:"Configure Articulation Chain",id:"configure-articulation-chain",level:3},{value:"Creating Environments",id:"creating-environments",level:2},{value:"Import Assets",id:"import-assets",level:3},{value:"Add Physics Materials",id:"add-physics-materials",level:3},{value:"Debugging and Visualization",id:"debugging-and-visualization",level:2},{value:"ROS Visualizer in Unity",id:"ros-visualizer-in-unity",level:3},{value:"Console Logging",id:"console-logging",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Example: Complete Teleoperation",id:"example-complete-teleoperation",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Further Reading",id:"further-reading",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"unity-with-ros-tcp-connector",children:"Unity with ROS-TCP-Connector"}),"\n",(0,t.jsx)(e.p,{children:"Unity is a powerful game engine that can be used for high-fidelity robot simulation with photorealistic rendering and advanced physics. The ROS-TCP-Connector enables seamless communication between Unity and ROS 2."}),"\n",(0,t.jsx)(e.h2,{id:"why-unity-for-robotics",children:"Why Unity for Robotics?"}),"\n",(0,t.jsx)(e.p,{children:"Unity offers several advantages for robotics simulation:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Photorealistic Graphics"}),": Advanced rendering for computer vision training"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Asset Ecosystem"}),": Vast library of 3D models and environments"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Cross-Platform"}),": Deploy to desktop, mobile, VR/AR"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Machine Learning"}),": Integration with ML-Agents for reinforcement learning"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Performance"}),": Optimized rendering and physics engines"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Unity Hub installed (2021.3 LTS or later)"}),"\n",(0,t.jsx)(e.li,{children:"Unity Editor (download via Unity Hub)"}),"\n",(0,t.jsx)(e.li,{children:"ROS 2 Humble or later"}),"\n",(0,t.jsx)(e.li,{children:"Basic C# knowledge (helpful but not required)"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(e.h3,{id:"step-1-install-unity-hub",children:"Step 1: Install Unity Hub"}),"\n",(0,t.jsxs)(e.p,{children:["Download from ",(0,t.jsx)(e.a,{href:"https://unity.com/download",children:"Unity Download Page"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# For Linux\nwget https://public-cdn.cloud.unity3d.com/hub/prod/UnityHubSetup.AppImage\nchmod +x UnityHubSetup.AppImage\n./UnityHubSetup.AppImage\n"})}),"\n",(0,t.jsx)(e.h3,{id:"step-2-install-unity-editor",children:"Step 2: Install Unity Editor"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Open Unity Hub"}),"\n",(0,t.jsxs)(e.li,{children:["Go to ",(0,t.jsx)(e.strong,{children:"Installs"})," tab"]}),"\n",(0,t.jsxs)(e.li,{children:["Click ",(0,t.jsx)(e.strong,{children:"Install Editor"})]}),"\n",(0,t.jsx)(e.li,{children:"Select Unity 2021.3 LTS or later"}),"\n",(0,t.jsxs)(e.li,{children:["Add modules:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Linux Build Support (if on Linux)"}),"\n",(0,t.jsx)(e.li,{children:"Documentation"}),"\n",(0,t.jsx)(e.li,{children:"WebGL Build Support (optional)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"step-3-create-new-project",children:"Step 3: Create New Project"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["Click ",(0,t.jsx)(e.strong,{children:"New Project"})]}),"\n",(0,t.jsxs)(e.li,{children:["Select ",(0,t.jsx)(e.strong,{children:"3D"})," template"]}),"\n",(0,t.jsxs)(e.li,{children:["Name: ",(0,t.jsx)(e.code,{children:"HumanoidRobotSim"})]}),"\n",(0,t.jsxs)(e.li,{children:["Click ",(0,t.jsx)(e.strong,{children:"Create Project"})]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"step-4-install-ros-tcp-connector",children:"Step 4: Install ROS-TCP-Connector"}),"\n",(0,t.jsx)(e.h4,{id:"method-1-package-manager-recommended",children:"Method 1: Package Manager (Recommended)"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Open Unity Editor"}),"\n",(0,t.jsxs)(e.li,{children:["Go to ",(0,t.jsx)(e.strong,{children:"Window > Package Manager"})]}),"\n",(0,t.jsxs)(e.li,{children:["Click ",(0,t.jsx)(e.strong,{children:"+"})," button \u2192 ",(0,t.jsx)(e.strong,{children:"Add package from git URL"})]}),"\n",(0,t.jsxs)(e.li,{children:["Enter: ",(0,t.jsx)(e.code,{children:"https://github.com/Unity-Technologies/ROS-TCP-Connector.git?path=/com.unity.robotics.ros-tcp-connector"})]}),"\n"]}),"\n",(0,t.jsx)(e.h4,{id:"method-2-manual-installation",children:"Method 2: Manual Installation"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# Clone repository\ncd ~/Downloads\ngit clone https://github.com/Unity-Technologies/Unity-Robotics-Hub.git\n\n# In Unity:\n# Window > Package Manager > + > Add package from disk\n# Navigate to: Unity-Robotics-Hub/com.unity.robotics.ros-tcp-connector/package.json\n"})}),"\n",(0,t.jsx)(e.h3,{id:"step-5-install-urdf-importer",children:"Step 5: Install URDF Importer"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-text",children:"# In Package Manager, add:\nhttps://github.com/Unity-Technologies/URDF-Importer.git?path=/com.unity.robotics.urdf-importer\n"})}),"\n",(0,t.jsx)(e.h2,{id:"setting-up-ros-tcp-endpoint",children:"Setting Up ROS-TCP Endpoint"}),"\n",(0,t.jsx)(e.h3,{id:"on-ros-2-side",children:"On ROS 2 Side"}),"\n",(0,t.jsx)(e.p,{children:"Install the ROS-TCP endpoint:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# Create workspace if not exists\nmkdir -p ~/ros2_ws/src\ncd ~/ros2_ws/src\n\n# Clone ROS-TCP endpoint\ngit clone https://github.com/Unity-Technologies/ROS-TCP-Endpoint.git\n\n# Build\ncd ~/ros2_ws\ncolcon build --packages-select ros_tcp_endpoint\nsource install/setup.bash\n"})}),"\n",(0,t.jsx)(e.p,{children:"Launch the endpoint:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"ros2 run ros_tcp_endpoint default_server_endpoint --ros-args -p ROS_IP:=127.0.0.1\n"})}),"\n",(0,t.jsx)(e.h3,{id:"on-unity-side",children:"On Unity Side"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["Go to ",(0,t.jsx)(e.strong,{children:"Robotics > ROS Settings"})]}),"\n",(0,t.jsxs)(e.li,{children:["Set ",(0,t.jsx)(e.strong,{children:"ROS IP Address"}),": ",(0,t.jsx)(e.code,{children:"127.0.0.1"})]}),"\n",(0,t.jsxs)(e.li,{children:["Set ",(0,t.jsx)(e.strong,{children:"ROS Port"}),": ",(0,t.jsx)(e.code,{children:"10000"})]}),"\n",(0,t.jsxs)(e.li,{children:["Set ",(0,t.jsx)(e.strong,{children:"Protocol"}),": ",(0,t.jsx)(e.code,{children:"ROS 2"})]}),"\n",(0,t.jsxs)(e.li,{children:["Click ",(0,t.jsx)(e.strong,{children:"Connect"})]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"importing-a-humanoid-robot",children:"Importing a Humanoid Robot"}),"\n",(0,t.jsx)(e.h3,{id:"method-1-import-from-urdf",children:"Method 1: Import from URDF"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["Prepare your URDF file (e.g., ",(0,t.jsx)(e.code,{children:"humanoid.urdf"}),")"]}),"\n",(0,t.jsxs)(e.li,{children:["In Unity: ",(0,t.jsx)(e.strong,{children:"Assets > Import Robot from URDF"})]}),"\n",(0,t.jsx)(e.li,{children:"Select your URDF file"}),"\n",(0,t.jsxs)(e.li,{children:["Configure import settings:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Axis Type"}),": Z-Axis"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Mesh Decomposer"}),": VHACD (for collisions)"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["Click ",(0,t.jsx)(e.strong,{children:"Import"})]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"method-2-build-from-scratch",children:"Method 2: Build from Scratch"}),"\n",(0,t.jsx)(e.p,{children:"Create a simple humanoid in Unity:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'// HumanoidBuilder.cs\nusing UnityEngine;\n\npublic class HumanoidBuilder : MonoBehaviour\n{\n    public static GameObject CreateSimpleHumanoid()\n    {\n        GameObject humanoid = new GameObject("SimpleHumanoid");\n\n        // Torso\n        GameObject torso = CreateBodyPart("Torso", new Vector3(0.4f, 0.6f, 0.3f), humanoid.transform);\n        torso.transform.localPosition = new Vector3(0, 1.0f, 0);\n\n        // Head\n        GameObject head = CreateBodyPart("Head", new Vector3(0.3f, 0.3f, 0.3f), torso.transform);\n        head.transform.localPosition = new Vector3(0, 0.45f, 0);\n        AddCamera(head);\n\n        // Arms\n        CreateArm("LeftArm", torso.transform, new Vector3(-0.25f, 0.2f, 0));\n        CreateArm("RightArm", torso.transform, new Vector3(0.25f, 0.2f, 0));\n\n        // Legs\n        CreateLeg("LeftLeg", torso.transform, new Vector3(-0.1f, -0.3f, 0));\n        CreateLeg("RightLeg", torso.transform, new Vector3(0.1f, -0.3f, 0));\n\n        // Add articulation body for physics\n        AddArticulationBody(humanoid);\n\n        return humanoid;\n    }\n\n    static GameObject CreateBodyPart(string name, Vector3 size, Transform parent)\n    {\n        GameObject part = GameObject.CreatePrimitive(PrimitiveType.Cube);\n        part.name = name;\n        part.transform.SetParent(parent);\n        part.transform.localScale = size;\n        part.GetComponent<Renderer>().material.color = new Color(0.8f, 0.8f, 0.8f);\n        return part;\n    }\n\n    static void CreateArm(string name, Transform parent, Vector3 offset)\n    {\n        GameObject arm = CreateBodyPart(name, new Vector3(0.1f, 0.5f, 0.1f), parent);\n        arm.transform.localPosition = offset;\n    }\n\n    static void CreateLeg(string name, Transform parent, Vector3 offset)\n    {\n        GameObject leg = CreateBodyPart(name, new Vector3(0.15f, 0.6f, 0.15f), parent);\n        leg.transform.localPosition = offset;\n    }\n\n    static void AddCamera(GameObject head)\n    {\n        GameObject cam = new GameObject("HeadCamera");\n        cam.transform.SetParent(head.transform);\n        cam.transform.localPosition = new Vector3(0, 0, 0.2f);\n        cam.AddComponent<Camera>();\n    }\n\n    static void AddArticulationBody(GameObject root)\n    {\n        ArticulationBody ab = root.AddComponent<ArticulationBody>();\n        ab.immovable = false;\n        ab.useGravity = true;\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"communicating-with-ros-2",children:"Communicating with ROS 2"}),"\n",(0,t.jsx)(e.h3,{id:"publishing-messages-from-unity-to-ros-2",children:"Publishing Messages from Unity to ROS 2"}),"\n",(0,t.jsx)(e.p,{children:"Create a publisher script:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'// ROSPublisher.cs\nusing UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing RosMessageTypes.Std;\n\npublic class ROSPublisher : MonoBehaviour\n{\n    ROSConnection ros;\n    public string topicName = "unity/position";\n    public float publishFrequency = 10f;\n\n    private float timeElapsed;\n\n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n        ros.RegisterPublisher<StringMsg>(topicName);\n    }\n\n    void Update()\n    {\n        timeElapsed += Time.deltaTime;\n\n        if (timeElapsed > 1f / publishFrequency)\n        {\n            Vector3 pos = transform.position;\n            StringMsg msg = new StringMsg\n            {\n                data = $"Position: x={pos.x:F2}, y={pos.y:F2}, z={pos.z:F2}"\n            };\n\n            ros.Publish(topicName, msg);\n            timeElapsed = 0;\n        }\n    }\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"Attach this script to your robot in Unity."}),"\n",(0,t.jsx)(e.h3,{id:"subscribing-to-ros-2-messages-in-unity",children:"Subscribing to ROS 2 Messages in Unity"}),"\n",(0,t.jsx)(e.p,{children:"Create a subscriber script:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'// ROSSubscriber.cs\nusing UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing RosMessageTypes.Geometry;\n\npublic class ROSSubscriber : MonoBehaviour\n{\n    public string topicName = "cmd_vel";\n\n    void Start()\n    {\n        ROSConnection.GetOrCreateInstance().Subscribe<TwistMsg>(topicName, MoveRobot);\n    }\n\n    void MoveRobot(TwistMsg twist)\n    {\n        // Convert ROS Twist to Unity movement\n        float linearX = (float)twist.linear.x;\n        float angularZ = (float)twist.angular.z;\n\n        // Apply to robot\n        transform.Translate(Vector3.forward * linearX * Time.deltaTime);\n        transform.Rotate(Vector3.up, angularZ * Mathf.Rad2Deg * Time.deltaTime);\n\n        Debug.Log($"Received cmd_vel: linear.x={linearX}, angular.z={angularZ}");\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"publishing-camera-images",children:"Publishing Camera Images"}),"\n",(0,t.jsx)(e.p,{children:"Create a camera publisher:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'// CameraPublisher.cs\nusing UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing RosMessageTypes.Sensor;\n\npublic class CameraPublisher : MonoBehaviour\n{\n    public Camera robotCamera;\n    public string topicName = "camera/image_raw";\n    public int resolutionWidth = 640;\n    public int resolutionHeight = 480;\n    public float publishFrequency = 10f;\n\n    private RenderTexture renderTexture;\n    private Texture2D texture2D;\n    private ROSConnection ros;\n    private float timeElapsed;\n\n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n        ros.RegisterPublisher<ImageMsg>(topicName);\n\n        renderTexture = new RenderTexture(resolutionWidth, resolutionHeight, 24);\n        texture2D = new Texture2D(resolutionWidth, resolutionHeight, TextureFormat.RGB24, false);\n        robotCamera.targetTexture = renderTexture;\n    }\n\n    void Update()\n    {\n        timeElapsed += Time.deltaTime;\n\n        if (timeElapsed > 1f / publishFrequency)\n        {\n            PublishImage();\n            timeElapsed = 0;\n        }\n    }\n\n    void PublishImage()\n    {\n        RenderTexture.active = renderTexture;\n        texture2D.ReadPixels(new Rect(0, 0, resolutionWidth, resolutionHeight), 0, 0);\n        texture2D.Apply();\n        RenderTexture.active = null;\n\n        ImageMsg msg = new ImageMsg\n        {\n            header = new RosMessageTypes.Std.HeaderMsg\n            {\n                stamp = new RosMessageTypes.BuiltinInterfaces.TimeMsg\n                {\n                    sec = (int)Time.time,\n                    nanosec = (uint)((Time.time - (int)Time.time) * 1e9)\n                },\n                frame_id = "camera_link"\n            },\n            height = (uint)resolutionHeight,\n            width = (uint)resolutionWidth,\n            encoding = "rgb8",\n            is_bigendian = 0,\n            step = (uint)(resolutionWidth * 3),\n            data = texture2D.GetRawTextureData()\n        };\n\n        ros.Publish(topicName, msg);\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"joint-control",children:"Joint Control"}),"\n",(0,t.jsx)(e.h3,{id:"articulation-body-for-realistic-physics",children:"Articulation Body for Realistic Physics"}),"\n",(0,t.jsx)(e.p,{children:"Unity's Articulation Body system provides accurate multi-body dynamics:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'// JointController.cs\nusing UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing RosMessageTypes.Std;\n\npublic class JointController : MonoBehaviour\n{\n    public ArticulationBody joint;\n    public string topicName = "joint_command";\n\n    void Start()\n    {\n        ROSConnection.GetOrCreateInstance().Subscribe<Float64Msg>(topicName, UpdateJoint);\n    }\n\n    void UpdateJoint(Float64Msg msg)\n    {\n        if (joint != null)\n        {\n            ArticulationDrive drive = joint.xDrive;\n            drive.target = (float)msg.data * Mathf.Rad2Deg;\n            joint.xDrive = drive;\n        }\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"configure-articulation-chain",children:"Configure Articulation Chain"}),"\n",(0,t.jsx)(e.p,{children:"For a humanoid robot, set up the articulation chain:"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["Root (Torso): ",(0,t.jsx)(e.strong,{children:"ArticulationBody"})," with ",(0,t.jsx)(e.strong,{children:"immovable = false"})]}),"\n",(0,t.jsxs)(e.li,{children:["Child joints: ",(0,t.jsx)(e.strong,{children:"ArticulationBody"})," with appropriate joint types"]}),"\n",(0,t.jsx)(e.li,{children:"Configure drives for each joint (stiffness, damping, force limits)"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"creating-environments",children:"Creating Environments"}),"\n",(0,t.jsx)(e.h3,{id:"import-assets",children:"Import Assets"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Unity Asset Store"}),': Search for "warehouse", "office", "outdoor"']}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Free Assets"}),": Polygon Prototype Pack, Modular Sci-Fi"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Custom Models"}),": Import from Blender, 3DS Max"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"add-physics-materials",children:"Add Physics Materials"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:"// Create in Unity Editor:\n// Assets > Create > Physic Material\n// - Static Friction: 0.6\n// - Dynamic Friction: 0.4\n// - Bounciness: 0.0\n"})}),"\n",(0,t.jsx)(e.p,{children:"Apply to floor and objects."}),"\n",(0,t.jsx)(e.h2,{id:"debugging-and-visualization",children:"Debugging and Visualization"}),"\n",(0,t.jsx)(e.h3,{id:"ros-visualizer-in-unity",children:"ROS Visualizer in Unity"}),"\n",(0,t.jsx)(e.p,{children:"Install the visualizer package:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-text",children:"https://github.com/Unity-Technologies/ROS-TCP-Connector.git?path=/com.unity.robotics.visualizations\n"})}),"\n",(0,t.jsx)(e.p,{children:"Use it to visualize ROS topics in Unity scene:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Transform messages (TF)"}),"\n",(0,t.jsx)(e.li,{children:"Markers"}),"\n",(0,t.jsx)(e.li,{children:"Point clouds"}),"\n",(0,t.jsx)(e.li,{children:"Laser scans"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"console-logging",children:"Console Logging"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'Debug.Log($"Joint angle: {jointAngle}");\nDebug.LogWarning("Connection lost!");\nDebug.LogError("Invalid joint configuration");\n'})}),"\n",(0,t.jsxs)(e.p,{children:["View logs in ",(0,t.jsx)(e.strong,{children:"Window > General > Console"}),"."]}),"\n",(0,t.jsx)(e.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Reduce Physics Iterations"}),": Edit > Project Settings > Physics"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Optimize Rendering"}),": Use occlusion culling, LOD groups"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Simplify Colliders"}),": Use primitive colliders when possible"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Limit Update Rate"}),": Don't publish at 60Hz unless needed"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Async Operations"}),": Use coroutines for heavy operations"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"example-complete-teleoperation",children:"Example: Complete Teleoperation"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'// TeleoperationSystem.cs\nusing UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing RosMessageTypes.Geometry;\n\npublic class TeleoperationSystem : MonoBehaviour\n{\n    public ArticulationBody robotBase;\n    public Camera robotCamera;\n    public float moveSpeed = 2.0f;\n    public float rotateSpeed = 90.0f;\n\n    private ROSConnection ros;\n\n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n        ros.Subscribe<TwistMsg>("cmd_vel", HandleTwist);\n        ros.RegisterPublisher<ImageMsg>("camera/image");\n    }\n\n    void HandleTwist(TwistMsg twist)\n    {\n        float linear = (float)twist.linear.x * moveSpeed;\n        float angular = (float)twist.angular.z * rotateSpeed;\n\n        Vector3 force = transform.forward * linear;\n        robotBase.AddForce(force);\n        robotBase.AddTorque(Vector3.up * angular);\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Connection Failed:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Verify ROS-TCP endpoint is running"}),"\n",(0,t.jsx)(e.li,{children:"Check IP address and port in ROS Settings"}),"\n",(0,t.jsx)(e.li,{children:"Ensure firewall allows port 10000"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Robot Falls Through Floor:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Add MeshCollider to ground"}),"\n",(0,t.jsx)(e.li,{children:"Check robot's ArticulationBody mass"}),"\n",(0,t.jsx)(e.li,{children:"Verify collision layers"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Poor Performance:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Lower camera resolution"}),"\n",(0,t.jsx)(e.li,{children:"Reduce physics update rate"}),"\n",(0,t.jsx)(e.li,{children:"Simplify collision meshes"}),"\n",(0,t.jsx)(e.li,{children:"Disable shadows for non-critical objects"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsx)(e.p,{children:"In the next lesson, you'll explore NVIDIA Isaac Sim for even more advanced physics simulation and GPU-accelerated sensor simulation."}),"\n",(0,t.jsx)(e.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://github.com/Unity-Technologies/Unity-Robotics-Hub",children:"Unity Robotics Hub"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://github.com/Unity-Technologies/ROS-TCP-Connector",children:"ROS-TCP-Connector Documentation"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://docs.unity3d.com/Manual/index.html",children:"Unity Manual"})}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>r,x:()=>l});var t=i(6540);const o={},s=t.createContext(o);function r(n){const e=t.useContext(s);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:r(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);